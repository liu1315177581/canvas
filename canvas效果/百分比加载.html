<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>百分比加载</title>
</head>
<body>
	<canvas id="canvas" width="500" height="500" style="background:#000;"></canvas>
</body>
<script src="jquery-2.2.4.js"></script>
<script>
	var $canvas = $("#canvas")[0];
	var ctx = $canvas.getContext('2d');
	var centerX = $canvas.width/2;
	var centerY = $canvas.height/2;
	//var rad = 2*Math.PI/50;
	var speed = 0;
	function blueCircle(n){
		ctx.save();
		ctx.strokeStyle = "#49f";
		ctx.lineWidth = 5;
		ctx.beginPath();
		ctx.arc(centerX,centerY,100,-Math.PI/2,-Math.PI/2+n,false);
		ctx.stroke();
		ctx.restore();
	}
	function whiteCircle(){
		ctx.save();
		ctx.beginPath();
		ctx.strokeStyle = "white";
		ctx.arc(centerX,centerY,100,0,Math.PI*2,false);
		ctx.stroke();
		ctx.restore();
	}
	function text(n){
		ctx.save();
		ctx.strokeStyle="$49f";
		ctx.font="40px Airal";
		ctx.strokeText(n.toFixed(0)+"%",centerX-25,centerY+10);
		ctx.stroke();
		ctx.restore();
	}
	(function drawFrame(){
		window.requestAnimationFrame(drawFrame,$canvas);
		ctx.clearRect(0,0,$canvas.width,$canvas.height);
		whiteCircle();
		blueCircle(speed);
		text(speed);
		console.log(speed);
		if(speed>6.5) speed = 0;
		speed+=0.01;
	})();
</script>
</html>